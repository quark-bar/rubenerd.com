---
layout: post
title: 'Partially recovering damaged tar files in Mac OS X' 
date: "2009-01-23T06:40:09+10:00"
category: Software 
tag: 
- archive-utility
- compression
- errors
- finder
- guide
- howto
- infocomm
- mac-os-x
- tape-archive
- terminal 
---
<p><img src="//rubenerd.com/files/uploads/screenie.mac.tar.png" alt="Archive Utility having trouble with a malformed/damaged tar file" style="height:128px; width:393px; display:inline; border:0px" /><br /><cite>Archive Utility having trouble with a malformed/damaged tar file</cite></p>
<p>Okay enough political nonsense, back to writing about technology and software!</p>
<p>Unlike zip or proprietary rar files, in true &quot;do one thing and do it well&quot; Unix style, most Unix-like file compressors (such as bzip2, rzip or gzip) only compress one file at a time. An intermediate container format is needed if multiple files in one compressed archive are needed, the most common of which is the <a href="http://en.wikipedia.org/wiki/Tar_(file_format)">Tape Archive</a> file/tarball or <code>tar</code>.</p>
<p><img src="//rubenerd.com/files/uploads/icon.archive.utility.png" alt="Archive Utility" style="height:128px; width:128px; display:inline; border:0px; float:right; margin:0 0 10px 20px;" /></p>
<p>Mac OS X&#39;s <a href="http://en.wikipedia.org/wiki/Archive_Utility">Archive Utility</a> (which you invoke from the Finder) has native support for <code>tar</code>, but I&#39;m surprised by the number of times I see the error message above after double clicking and attempting to open one. Usually this is a result of a malformed or broken <code>tar</code> file, but the nature of <code>tar</code> files is that generally some files can be salvaged. The Finder refuses to do this, which worries me. How many GUI proficient Mac users throw away <code>tar</code> files that they could salvage at least some files out of?</p>
<p>The solution is a quick trip to the Terminal and using the <code>cd</code> command (same way as DOS) to navigate to the folder where the tar file you&#39;re having trouble with is located. Then enter:</p>
<pre>% tar xvf [FILENAME].tar</pre>
<p>In a nutshell, <code>xvf</code> tells <code>tar</code> to verbosely display files as they&#39;re extracted. In this circumstance this is very useful!</p>
<p>You&#39;ll see a stream of filenames fill up your window, followed by a message similar to the following if you&#39;re <code>tar</code> file was corrupted.</p>
<pre>
[â€¦]tar: End of archive volume 1 reached
[FILENAME].tar: Unexpected EOF on archive file
</pre>
<p>While you some of your files may have been extracted, clearly in this case you&#39;ve received a poorly formed <code>tar</code> file. If possible, you should attempt to download it again from where you got it, or if you made it yourself try to find a backup.</p>
 
